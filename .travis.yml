sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: T1WnmYrEb/b+ycjiblpSz/evS/7NwOTe+uAzd3EbOaSMK1JFr1rHtRtkv/ljwnoCps/LccCWLF4D2Ws3oRLfj/WqyYlqE5Lwusu/VrTJUBvzXts6T7hiZWS86/L0SGtyIXhKqB7Rvwz2GA2Bhiza4JR5O5idRaLWqlpYhJvoE0+rCnRmOrMAJrijuv+pXjLoBJ8K7IYclqAhOnFvHGunFdQooBckAG5BLqCiEwbT8MS9rxQY8W1Qa3nvdPMte79ih/i8numtk41cBaYDxQz6HISX8BkghLX/LOeHGnhH2cXk1lmiR6N9KRRrm8d9eH3X2PBAffveYd5d+t7UBTYIDTeLLhxXLjke8Fm7wuP19A1qxJwqO2zxnpz50WQQ3LdCkKJy9JuDjSAGUzVPiSGq+ui94ubanddjnQcXgC8akWyUzntKUuSyjs4smZc6ukhNLxD98cc6zoWsuTbNwgEdTYuwUiZaUg31URKOBCaw9qJ7SzT7P/avBJ5/vV0FyCFchYpXqWFkIscgd5Zgh3SQR1U4rXQT09giGoC6bQdmX41v7FjIGC3RSQm2OqSQXusvqG/l03YREJNRSxT+X5uI7+8RVtdYG2tYfCR/BGRKfOI+tW7mMP0GT09QEx6AWaSfsgxIqEFpa9I4hfknTlgO4LSSQFH4AawR5TcLgWs91Lc=
  - secure: BkiV8eH93ttkuLAKcQCRpqnhC0XgDSXKukKuSGFWcS9WKzLSXOiuhV+XO9BQato24qR1khrbyEoMbc/jrwPZooQlQHdFlY4dTbwnWmPPo20M4j+HASgeeHoAo2fZOkadtTEyxcZvC2Pupv2KZ9Klh6UAHExbiFPkQk6+Z7m6hocmAQmjyxGWRsoxPeCJO0JfdRzdZtxly2XlKe1r06ZFIAojLtL/1nfnebqSUPLNHGRlRUiGKal4s88z6XuHltTMhZRJiT5qTV/sKVpoYMQ7AtdT4y3s5mpFfvD9AYQkoAh44faqQ96wsLkct87GjLi4sJ+uGYqxcgkYtdtRcjQ1NylsbczKdYvYft8hO99/yQ0INIHjsrWOjMlAof5gIWXldhBLUF13NRGiO4+3lcotxF8HlQqD2FZElAPCxMXhFrZGxJ7rfYhiZLKmOAtGw2vTtW+ecDuGF1/WHb2Bm7fsGV2bppVqi0f+GA5zxqOyHFS4RyY3SYryhiaZ1clK9KWE2iprVj4/DRN/6r/d+oBxoCTNdVwI5wPjcKxRxryLL2Yv/nfXwtTnBmLPJW+uFgYKBF16TdGxV0iTuuOeVAOE00KMESPlnRbAChCDaNECAcuCCtpV8LBsVNvahNI8U4QtLluxkKM/WbXZD/GDr/aGBLtyLffP34sIxSRvgnVwW0g=
